{% extends "base.html" %}
{% block title %}Sublease Details{% endblock %}

{% block content %}
<h2>{{ object.address }}</h2>

<div class="row">
    <div class="col-md-6">
        {% if object.cover_photo %}
        <img src="{{ object.cover_photo.url }}" class="img-fluid rounded mb-3" alt="">
        {% endif %}

        <p><strong>Price:</strong> ${{ object.price }}</p>

        {% if object.available_from and object.available_to %}
        <p><strong>Available:</strong> {{ object.available_from }} â†’ {{ object.available_to }}</p>
        {% endif %}

        {% if object.available_text %}
        <p><strong>Availability Notes:</strong> {{ object.available_text }}</p>
        {% endif %}

        <p>{{ object.description }}</p>

        {% if user == object.user %}
        <a href="{% url 'sublease-edit' object.pk %}" class="btn btn-warning">Edit</a>
        <a href="{% url 'sublease-delete' object.pk %}" class="btn btn-danger">Delete</a>
        <a href="{% url 'sublease-add-photo' object.pk %}" class="btn btn-secondary">Add Photo</a>
        {% endif %}
    </div>

    <div class="col-md-6">
        <h4>Gallery</h4>
        <div class="row">
            {% for photo in object.photos.all %}
            <div class="col-6 mb-3">
                <img src="{{ photo.image.url }}" class="img-fluid rounded">
            </div>
            {% empty %}
            <p>No additional photos uploaded.</p>
            {% endfor %}
        </div>
    </div>
</div>

{% endblock %}